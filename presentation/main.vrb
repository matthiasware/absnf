\frametitle{Choosing Gridsize and Blocksize}
	\framesubtitle{Beispiel - Implementierung}
	\begin{lstlisting}[language=cpp]
	template <typename T>
	void __global__ multWithDz(T *A, T *dz, int s){
		int i = threadIdx.x;
		int j = blockIdx.x;
		int id = i*s + j;
		while(id < s*s && j < s){
			if(i<s){
				if(A[id] != T(0))
					A[id] = A[id] * cuutils::sign(&dz[j]);
				i+=blockDim.x;
			}
			else{
				i = i%s;
				j = j + gridDim.x;
			}
			id = i*s + j;
		}
	}
	\end{lstlisting}
